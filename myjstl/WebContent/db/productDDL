ALTER TABLE PRODUCT
	DROP
		CONSTRAINT FK_PRODUCT_CATEGORY_TO_PRODUCT
		CASCADE;

ALTER TABLE PRODUCT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE PRODUCT_CATEGORY
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_PRODUCT;

DROP INDEX PK_PRODUCT_CATEGORY;

/* 상품 */
DROP TABLE PRODUCT 
	CASCADE CONSTRAINTS;

/* 상품카테고리 */
DROP TABLE PRODUCT_CATEGORY 
	CASCADE CONSTRAINTS;

/* 상품 */
CREATE TABLE PRODUCT (
	prod_no VARCHAR2(5) NOT NULL, /* 상품번호 */
	prod_name VARCHAR2(30) NOT NULL, /* 상품명 */
	prod_price NUMBER(5) NOT NULL, /* 가격 */
	prod_detail VARCHAR2(50), /* 상세정보 */
	cate_no CHAR(1) NOT NULL /* 분류 */
);

COMMENT ON TABLE PRODUCT IS '상품';

COMMENT ON COLUMN PRODUCT.prod_no IS '상품번호';

COMMENT ON COLUMN PRODUCT.prod_name IS '상품명';

COMMENT ON COLUMN PRODUCT.prod_price IS '가격';

COMMENT ON COLUMN PRODUCT.prod_detail IS '상세정보';

COMMENT ON COLUMN PRODUCT.cate_no IS '분류';

CREATE UNIQUE INDEX PK_PRODUCT
	ON PRODUCT (
		prod_no ASC
	);

ALTER TABLE PRODUCT
	ADD
		CONSTRAINT PK_PRODUCT
		PRIMARY KEY (
			prod_no
		);

/* 상품카테고리 */
CREATE TABLE PRODUCT_CATEGORY (
	cate_no CHAR(1) NOT NULL, /* 분류 */
	cate_name VARCHAR2(30) NOT NULL /* 분류명 */
);

COMMENT ON TABLE PRODUCT_CATEGORY IS '상품카테고리';

COMMENT ON COLUMN PRODUCT_CATEGORY.cate_no IS '분류';

COMMENT ON COLUMN PRODUCT_CATEGORY.cate_name IS '분류명';

CREATE UNIQUE INDEX PK_PRODUCT_CATEGORY
	ON PRODUCT_CATEGORY (
		cate_no ASC
	);

ALTER TABLE PRODUCT_CATEGORY
	ADD
		CONSTRAINT PK_PRODUCT_CATEGORY
		PRIMARY KEY (
			cate_no
		);

ALTER TABLE PRODUCT
	ADD
		CONSTRAINT FK_PRODUCT_CATEGORY_TO_PRODUCT
		FOREIGN KEY (
			cate_no
		)
		REFERENCES PRODUCT_CATEGORY (
			cate_no
		);
        

ALTER TABLE PRODUCT
    ADD 
        CONSTRAINT CHECK_PRODUCT CHECK (prod_price>=0); 
        
========================================================


